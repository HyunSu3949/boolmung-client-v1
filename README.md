배포 주소: https://d221beexgvmcjq.cloudfront.net  

테스트 계정1 : Id: test1@test.com / pw: 123123123  
테스트 계정2 : Id: test2@test.com / pw: 123123123  

### [기능설명]
#### 캐릭터 조작
wasd 키로 캐릭터를 조종할 수 있습니다.

마우스 클릭 & 드래그로 시야 변경이 가능합니다.  

#### 캐릭터 얼굴 변경하기
내 정보 페이지에서 얼굴을 그려 캐릭터를 변경할 수 있습니다.

#### 소리 on/off
소리를 켜면 장작 타는 소리를 들을 수 있습니다.
 
### [시연 영상] 
#### 캐릭터 조작 및 채팅  
<img src = "https://github.com/HyunSu3949/boolmung-client-v1/assets/112445899/c34230d1-9e97-47b8-8835-3f002ea06f1b" width="60%" height="60%">  

#### 얼굴 꾸미기     
<img src = "https://github.com/HyunSu3949/boolmung-client-v1/assets/112445899/c8b880a3-6368-4698-8215-511ea020e63a" width="60%" height="60%">

### [아키텍처]
<img src = "https://github.com/HyunSu3949/boolmung-client-v1/assets/112445899/dcf97805-2b9d-41ca-bb65-5356549896cc" width="60%" height="60%">

### [사용 기술 스택]
#### FrontEnd 
- **React**  
 React의 선언적 UI, 다양한 라이브러리를 활용함으로써 개발 생산성을 향상 시키고자 사용했습니다.
- **Redux Toolkit**  
middleware를 이용한 소켓 통신 중앙 관리, store를 이용한 상태 중앙 관리를 위해 사용했습니다.
- **React-Query**  
자주 변하는 서버 상태를 클라이언트에서 주기적으로 동기화,  캐싱,  데이터 패칭시 로딩 처리, 무한 스크롤 구현 용이성을 위해 사용했습니다. 
- **Socket.IO**  
앱 데이터 성격상 웹 소켓 사용이 필요하고, 웹 소켓  코드 작성에 편리한 기능을 제공하기에 사용했습니다.
#### BackEnd  
- **Express**  
많은  비동기 I/O 작업 처리가  필요하기 때문에 Node.js 기반 프레임워크를 사용했습니다.
- **MongoDB**    
유연한 데이터 모델, 개발의 용이성을 위해 사용했습니다.
- **NGINX**  
HTTPS 요청을 리버스 프록시하여 전달하기 위해 사용했습니다.

### [ 트러블 슈팅 ]
#### 실시간 움직임 구현에 필요한 로직 개선하기
- 문제 :  캐릭터 좌표 전송으로 위치를 동기화 하는 방식은 스로틀, 디바운스를 적용하여도  필요한 통신 횟수 과도하게 많고, 리렌더링이 많이 일어났습니다.
- 해결 :  방향키 키보드 이벤트 변화시  데이터 전송 방식으로 변경하였습니다.
- 결과 :   캐릭터 위치 동기화에 필요한 소켓 통신 횟수 1 / 5  이하로 감소하였고 리렌더링 횟수 또한 90% 이상 절감해 퍼포먼스를 개선했습니다.
  
<img src = "https://github.com/HyunSu3949/boolmung-client-v1/assets/112445899/77552e3b-da39-46f0-a1ae-e903fcfb279e" width="80%" height="80%">

#### 복잡해진 데이터 흐름 제어하기
- 문제: 여러 컴포넌트에서 소켓통신을 사용하고 받은 상태값을 저장 해야 했기에 데이터를 관리하는 로직이 복잡했습니다.
- 해결: redux를 도입하여 store로 상태를 중앙 관리하였고, middleware를 통해 소켓 이벤트를 관리하였습니다.
- 결과: 중앙화된 상태와 소켓 이벤트 처리 로직으로 로직 구현 및 디버깅이 용이해졌습니다.
  
#### api 문서 부재로 생긴 data 타입 오류 대응하기
- 문제: 협업 상황이 아니고 간단한 api 요청만 사용할 것으로 예상해 문서를 작성하지 않아 data 타입의 오류가 빈번하게 발생했습니다.
- 해결: apiTypes.ts 파일을 만들어 타입을 관리했습니다. 엔드포인트, 쿼리 파라미터, 경로변수를 key-value 값으로 구조화해 체계적으로 관리했습니다.
- 결과: 정적 타이핑을 통해 요청값, 반환값을 명시하여 오류를 최소화 하였습니다.

